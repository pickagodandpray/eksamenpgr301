language: java
sudo: true
dist: trusty
jdk: oraclejdk9
addons:
  apt:
    packages:
      - oracle-java9-installer
before_install:
  - chmod +x mvnw

jobs:
  include:
    - stage: build docker image
      script:
        - docker build -f Dockerfile -t tommymai/eksamenpgr301:eksamenpgr301 .
        - docker tag tommymai/eksamenpgr301 eksamenpgr301
    - stage: push to docker hub
      script:
        - docker push tommymai/eksamenpgr301:eksamenpgr301





